<!DOCTYPE html>
<html>
<header>
  <app-header-admin></app-header-admin>
</header>

<body>
<div class="container">
  <div class="title-container">

    <div class="search-bar">
      <div class="titulo">Editar Producto&nbsp;&nbsp;</div>
      <div>Buscar:&nbsp;</div>
      <input type="text" class="search-input" #name="ngModel" [(ngModel)]="authService.formDataSearchProduct.search" placeholder="Buscar producto">
      <div>
        <span>&nbsp;&nbsp;&nbsp;Proveedor:</span>
        <select class="filter-select" [(ngModel)]="authService.formDataSearchProduct.suppliers">
          <option value="" disabled selected>Seleccione una opción</option>
          <option *ngFor="let supplier of suppliers" [value]="supplier.nameSupplier">{{ supplier.nameSupplier }}</option>
        </select>
      </div>
      <div>
        <span>&nbsp;&nbsp;&nbsp;&nbsp;Presentación:</span>
        <select class="filter-select" [(ngModel)]="authService.formDataSearchProduct.presentation">
          <option value="" disabled selected>Seleccione una opción</option>
          <option *ngFor="let presentation of presentations" [value]="presentation.namePresentation">{{ presentation.namePresentation }}</option>
        </select>
      </div>
      <span>&nbsp;</span>
      <button class="search-button" (click)="searchProduct()" >Buscar</button>
    </div>
  </div>
  <div class="login-item">
    <form action="" method="post" class="form form-login" novalidate autocomplete="off" #form="ngForm" (submit)="onSubmit()">

      <form>
        <div class="form-row">
          <div class="campo select12">
            <label class="lock" for="nombre">Nombre&nbsp;&nbsp;&nbsp;&nbsp;</label>
            <input [ngStyle]="{'background-color': backgroundColor}" [disabled]="disabledInput" class="form-input" type="text" id="nombre" #name="ngModel" [(ngModel)]="authService.formDataProduct.name" name="nombre" placeholder="Nombre">
          </div>
          <div class="campo">
            <label class="lock" for="cantidad">Cantidad</label>
            <input [ngStyle]="{'background-color': backgroundColor}" [disabled]="disabledInput" class="form-input" appRestrictDash type="number" id="cantidad" #amount="ngModel" [(ngModel)]="authService.formDataProduct.amount" name="cantidad" placeholder="Cantidad">
          </div>
          <div class="campo">
            <label class="lock" for="precio">Precio&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
            <input [ngStyle]="{'background-color': backgroundColor}" [disabled]="disabledInput" class="form-input" appRestrictDash type="number" id="precio" #price="ngModel" [(ngModel)]="authService.formDataProduct.price" name="precio" placeholder="Precio">
          </div>
        </div>


        <div class="form-row">
          <div class="campo">
            <label class="lock" for="proveedor">Proveedor&nbsp;&nbsp;&nbsp;&nbsp;</label>
            <select [ngStyle]="{'background-color': backgroundColor}" [disabled]="disabledInput" class="form-input2" id="proveedor" [(ngModel)]="authService.formDataProduct.supplier" name="proveedor">
              <option value="" disabled selected>Seleccione una opción</option>
              <option *ngFor="let supplier of suppliers" [value]="supplier.nameSupplier">{{ supplier.nameSupplier }}</option>
            </select>
          </div>
          <div class="campo">
            <label class="lock" for="presentacion">Presentación</label>
            <select [ngStyle]="{'background-color': backgroundColor}" [disabled]="disabledInput" class="form-input2" id="presentacion" [(ngModel)]="authService.formDataProduct.presentation" name="presentacion">
              <option value="" disabled selected>Seleccione una opción</option>
              <option *ngFor="let presentation of presentations" [value]="presentation.namePresentation">{{ presentation.namePresentation }}</option>
            </select>
          </div>
          <div class="campo">
            <label class="lock" for="categoria">Categoria</label>
            <select [ngStyle]="{'background-color': backgroundColor}" [disabled]="disabledInput" class="form-input2 select-custom2" id="categoria" [(ngModel)]="authService.formDataProduct.category" name="categoria">
              <option value="" disabled selected>Seleccione una opción</option>
              <option *ngFor="let categoria of categories" [value]="categoria.nameCategory">{{ categoria.nameCategory }}</option>
            </select>
          </div>
        </div>
        <div class="form-row">
          <div class="campo">
            <label class="lock" for="descripcion">Descripción</label>
            <textarea [ngStyle]="{'background-color': backgroundColor}" [disabled]="disabledInput" class="form-input2" id="descripcion" name="texto" rows="3" cols="40" #description="ngModel" [(ngModel)]="authService.formDataProduct.description" placeholder="Descripción"></textarea>
          </div>
        </div>
        <div class="form-row">
          <div class="campo">
            <div class="card p-3">
              <label class="lock" >Imágen</label>
              <div class="drop-box border rounded p-5 text-center"
                   (dragover)="handleDragOver($event)"
                   (drop)="handleDrop($event)">
                <i class="fas fa-cloud-upload-alt fa-3x mb-3"></i>
                <p class="mb-0 parrafo-responsivo2" *ngIf="!imageUrl">Suelta la imagen aquí o haz clic para cargar</p>
                <div class="preview-container my-3" *ngIf="imageUrl">
                  <img [src]="sanitizer.bypassSecurityTrustUrl(imageUrl)" alt="Uploaded Image" class="preview-image rounded">
                </div>
              </div>
              <div class="button-container-image">
                <button [disabled]="disabledInput" class="custom-button-selec" (click)="fileInput.click()">Seleccionar imagen</button>
                <input [disabled]="disabledInput" type="file" #fileInput style="display:none" (change)="handleFileInput($event)">
                <button [disabled]="disabledInput" class="custom-buttonC-selec" [disabled]="!imageUrl" (click)="clearPreview()">Eliminar imagen</button>
              </div>
            </div>
          </div>
        </div>
        <div class="button-container">
          <input type="submit" class="custom-button" (click)="openConfirmationDialog()" value="Modificar">
          <input type="submit" class="custom-buttonC" (click)="changePage()" value="Cancelar">
        </div>

      </form>

    </form>
  </div>
</div>
</body>
<footer>
  <app-footer></app-footer>
</footer>
</html>

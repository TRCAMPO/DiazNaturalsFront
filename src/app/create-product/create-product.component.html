<!DOCTYPE html>
<html>
<header>
  <app-header-admin></app-header-admin>
</header>

<body>
<div class="container">
  <div class="title-container">
    <h1 class="titulo">Crear Producto</h1>
  </div>
    <form action="" method="post" class="form form-login" novalidate autocomplete="off" #form="ngForm">
        <div class="form-row">
          <div class="campo">
            <label class="lock" for="nombre">Nombre&nbsp;&nbsp;&nbsp;&nbsp;</label>
            <input class="form-input" type="text" id="nombre" #name="ngModel" [(ngModel)]="authService.formDataProduct.name" name="nombre" placeholder="Nombre">
          </div>
          <div class="campo">
            <label class="lock" for="cantidad">Cantidad</label>
            <input class="form-input" appRestrictDash type="number" id="cantidad" #amount="ngModel" [(ngModel)]="authService.formDataProduct.amount" name="cantidad" placeholder="Cantidad">
          </div>
          <div class="campo">
            <label class="lock" for="precio">Precio&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
            <input class="form-input" appRestrictDash type="number" id="precio" #price="ngModel" [(ngModel)]="authService.formDataProduct.price" name="precio" placeholder="Precio">
          </div>
        </div>


          <div class="form-row2">
            <div class="campo">
              <label class="lock" for="proveedor">Proveedor&nbsp;&nbsp;&nbsp;&nbsp;</label>
              <select class="form-input2" id="proveedor" [(ngModel)]="authService.formDataProduct.supplier" name="proveedor">
                <option value="" disabled selected>Seleccione una opción</option>
                <option *ngFor="let supplier of suppliers" [value]="supplier.nameSupplier">{{ supplier.nameSupplier }}</option>
              </select>
            </div>
            <div class="campo">
              <label class="lock" for="presentacion">Presentación</label>
              <select class="form-input2" id="presentacion" [(ngModel)]="authService.formDataProduct.presentation" name="presentacion">
                <option value="" disabled selected>Seleccione una opción</option>
                <option *ngFor="let presentation of presentations" [value]="presentation.namePresentation">{{ presentation.namePresentation }}</option>
              </select>
            </div>
            <div class="campo">
              <label class="lock" for="categoria">Categoria</label>
              <select class="form-input2" id="categoria" [(ngModel)]="authService.formDataProduct.category" name="categoria">
                <option value="" disabled selected>Seleccione una opción</option>
                <option *ngFor="let categoria of categories" [value]="categoria.nameCategory">{{ categoria.nameCategory }}</option>
              </select>
            </div>
          </div>
        <div class="form-row">
          <div class="campo">
            <label class="lock" for="descripcion">Descripción</label>
            <textarea class="form-input22" id="descripcion" name="texto" rows="3" cols="40" #description="ngModel" [(ngModel)]="authService.formDataProduct.description" placeholder="Descripción"></textarea>
          </div>
        </div>
        <div class="form-row">
          <div class="campo">
            <div class="card p-3">
              <label class="lock" >Imágen</label>
              <div class="drop-box border rounded p-5 text-center"
                   (dragover)="handleDragOver($event)"
                   (drop)="handleDrop($event)">
                <i class="fas fa-cloud-upload-alt fa-3x mb-3"></i>
                <p class="mb-0 parrafo-responsivo2" *ngIf="!imageUrl">Suelta la imagen aquí o haz clic para cargar</p>
                <div class="preview-container my-3" *ngIf="imageUrl">
                  <img style="width: 300px; height: 200px; margin-left: 2px;" [src]="sanitizer.bypassSecurityTrustUrl(imageUrl)" alt="Uploaded Image" class="preview-image rounded">
                </div>
                <a>{{imageUrl}}</a>
              </div>
              <div class="button-container-image">
                <button class="custom-button-selec" (click)="fileInput.click()">Seleccionar imagen</button>
                <input type="file" #fileInput style="display:none" (change)="handleFileInput($event)">
                <button class="custom-buttonC-selec" [disabled]="!imageUrl" (click)="clearPreview()">Eliminar imagen</button>
              </div>
            </div>
          </div>
        </div>
        <div class="button-container">
          <input type="submit" class="custom-button" (click)="onSubmit()" value="Crear">
          <input type="submit" class="custom-buttonC" (click)="resetForm()" value="Cancelar">
        </div>

    </form>
  </div>
</body>
  <app-footer></app-footer>
</html>


